From d4d151cf34fab415e2823deada3433df7f475c71 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Petr=20Men=C5=A1=C3=ADk?= <pemensik@redhat.com>
Date: Tue, 11 Apr 2017 16:19:08 +0200
Subject: [PATCH 1/3] 4575.   [security]      DNS64 with "break-dnssec yes;"
 can result in an                         assertion failure. (CVE-2017-3136)
 [RT #44653]

---
 bin/named/query.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/bin/named/query.c b/bin/named/query.c
index f60078b..6e988f5 100644
--- a/bin/named/query.c
+++ b/bin/named/query.c
@@ -7324,6 +7324,7 @@ query_find(ns_client_t *client, dns_fetchevent_t *event, dns_rdatatype_t qtype)
 			result = query_dns64(client, &fname, rdataset,
 					     sigrdataset, dbuf,
 					     DNS_SECTION_ANSWER);
+			noqname = NULL;
 			dns_rdataset_disassociate(rdataset);
 			dns_message_puttemprdataset(client->message, &rdataset);
 			if (result == ISC_R_NOMORE) {
-- 
2.9.3

